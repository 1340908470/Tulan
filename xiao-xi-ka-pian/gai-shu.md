# 概述

图蓝机器人以发送消息卡片的形式与用户交流，其发送的消息卡片本质上就是飞书通用能力提供的消息卡片，Tulan在飞书消息卡片的基础之上，进行了二次封装，为其提供了显示动态内容的能力。

## 消息卡片是什么

消息卡片是机器人的一种可以承载丰富的图文内容和交互行为的消息类型。

> 引用飞书开放平台中对消息卡片对介绍，通过消息卡片，你可以：
>
> * 使用消息卡片提供的富文本样式、图文布局模块，发送**样式精美**的卡片，比如醒目的通知、图文并茂的文章列表等，让重要的信息更好地触达用户。
> * 使用消息卡片提供的**交互组件**，使用户只需在卡片上点击一下就能提交信息，从而无需离开聊天会话，就能快捷完成 OA 审批、投票统计、报警处理等系统操作。
>
> 实现以上功能无需客户端开发经验，飞书已经为卡片消息定义了结构化的组件与样式，通过服务端一段 JSON 描述，即可构造样式精美、可交互的消息卡片。

{% hint style="info" %}
由于图蓝机器人的消息卡片是基于飞书机器人的，因此你可以通过[飞书消息卡片搭建工具](https://open.feishu.cn/tool/cardbuilder?from=howtoguide)快捷搭建消息卡片的基础部分
{% endhint %}

## 动态消息卡片

在消息卡片中，开发者可以动态的嵌入上下文参数列表中的参数，比如，在`trigger`触发后，解释器会在上下文参数列表中加入名为`process_name`的参数，表示当前处于哪一个事务。那么，如果开发者想为让机器人向用户发送一个消息卡片，指示机器人触发了什么事务，开发者就可以在消息卡片的`content`中，以`@@process_name@@`的形式将参数嵌入卡片，图蓝机器人在向用户发送消息卡片前，会对消息卡片的内容进行预处理，将其替换为参数列表中对应的值。
